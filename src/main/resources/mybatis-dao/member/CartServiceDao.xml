<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.meandbooksteam2.shoppingmall.dao.member.CartServiceDao">
    <!--장바구니 정보를 불러오는 쿼리문 - 장바구니에 담긴 책 정보는 다른 곳에서 book_no를 통해 가져와야 함-->
    <select id="listCart" parameterType="hashmap" resultType="CartDto">
        select cart_no
             , mem_no
             , book_no
             , cart_qty
        from cart where mem_no = #{mem_no}
    </select>

    <!--장바구니 목록에서 선택한 책의 수량을 변경하는 쿼리-->
    <update id="updateCartStatus" parameterType="hashmap">
        update cart set cart_qty=#{cart_qty} where cart_no=#{cart_no}
    </update>

    <!--선택한 품목을 장바구니에서 삭제하는 쿼리-->
    <delete id="deleteCart" parameterType="hashmap">
        delete from cart where cart_no=#{cart_no}
    </delete>

</mapper>
